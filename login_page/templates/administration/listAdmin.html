{% extends 'deshbroad/base_site.html' %}
{% block content %}

<style type="text/css">
  
      .search-form .form-group {
      float: right !important;
      transition: all 0.35s, border-radius 0s;
      width: 32px;
      height: 32px;
      background-color: #fff;
      box-shadow: 0 1px 1px rgba(0, 0, 0, 0.075) inset;
      border-radius: 25px;
      border: 2px solid #2471A3;
    }
    .search-form .form-group input.form-control {
      padding-right: 20px;
      border: 0 none;
      background: transparent;
      box-shadow: none;
      display:block;
    }
    .search-form .form-group input.form-control::-webkit-input-placeholder {
      display: none;
    }
    .search-form .form-group input.form-control:-moz-placeholder {
      /* Firefox 18- */
      display: none;
    }
    .search-form .form-group input.form-control::-moz-placeholder {
      /* Firefox 19+ */
      display: none;
    }
    .search-form .form-group input.form-control:-ms-input-placeholder {
      display: none;
    }
    .search-form .form-group:hover,
    .search-form .form-group.hover {
      width: 100%;
      border-radius: 4px 25px 25px 4px;
    }
    .search-form .form-group span.form-control-feedback {
      position: absolute;
      top: -1px;
      right: -2px;
      z-index: 2;
      display: block;
      width: 34px;
      height: 34px;
      line-height: 34px;
      text-align: center;
      color: #3596e0;
      left: initial;
      font-size: 14px;
    }

    a.btn:hover {
     -webkit-transform: scale(1.1);
     -moz-transform: scale(1.1);
     -o-transform: scale(1.1);
    }
   a.btn {
       -webkit-transform: scale(0.8);
       -moz-transform: scale(0.8);
       -o-transform: scale(0.8);
       -webkit-transition-duration: 0.5s;
       -moz-transition-duration: 0.5s;
       -o-transition-duration: 0.5s;
   }

</style>

           <!-- start: Content -->
            <div id="content">
               <div class="panel box-shadow-none content-header">
                  <div class="panel-body">
                    <div class="col-md-12">
                        <h3 class="animated fadeInLeft">Administration Section</h3>
                        <p class="animated fadeInDown">
                          Table <span class="fa-angle-right fa"></span> List Of Admin
                        </p>
                    </div>
                  </div>
              </div>
              <div class="col-md-12 top-20 padding-0">
                <div class="col-md-12">
                  <div class="panel">
                    <div class="panel-heading"><h3>List Of Admin</h3></div>
                    <div class="panel-body">
                      <div class="responsive-table">
                        <div class="col-md-12 padding-0" style="margin-bottom: 10px;">

                          {% if request.user.is_admin %}
                          <button type="button" class="btn btn-danger pull-right link" style="margin-left: 10px;" onclick="location.href='{% url 'deleteAdminAll' %}'">Delete All Data</button>
                          <button type="button" class="btn btn-primary pull-right" onclick="location.href='{% url 'export_users_xl_UserAdmin' %}'">Export All Data</button>
                          {% endif %}
                        </div>
                        
                      <table id="datatables-example" class="table table-striped table-bordered" width="100%" cellspacing="0">
                      <thead style="color: #2C3E50; font-size: 15px;">
                        <tr>
                          <th>Username</th>
                          <th>Full Name</th>
                          <th>E-mail</th>
                          <th>Role</th>
                          <th>Last login</th>
                          {% if request.user.is_admin %}
                          <th>Action</th>
                          {% endif %}
                        </tr>
                      </thead>
                      <tbody style="color: #138D75; font-size: 15px;">
                        {% for panda in panda%}
                        <tr>
                          <td>{{panda.username}}</td>
                          <td>{{panda.full_name}}</td>
                          <td>{{panda.email}}</td>
                          <td>

                            {% if panda.is_admin and panda.is_staff %}
                                <input type="button" class="btn btn-round btn-danger" value="Super Admin"/>
                            {% endif %}
                            
                            {% if panda.is_admin and panda.is_staff == False %}
                                <input type="button" class="btn btn-round btn-warning" value="Admin"/>
                            {% endif %}

                            {% if panda.is_staff and panda.is_admin == False %}
                                <input type="button" class="btn btn-round btn-success" value="Co-Admin"/>
                            {% endif %}

                          </td>

                          <td>{{ panda.last_login }}</td>
                          {% if request.user.is_admin %}
                          <td>
                            <a href="{% url 'delete_Admin' panda.id %}" class="btn btn-primary a-btn-slide-text center-block link">
                                 <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                  <span><strong>Delete</strong></span>            
                            </a>
                          </td>
                          {% endif %}
                        </tr>
                        {% endfor %}

                        </tbody>
                        </table>
                      </div>
                  </div>
                </div>
              </div>  
              </div>
            </div>
          <!-- end: content -->


      <script type="text/javascript">
      $(document).ready(function() {
        // Basic confirmation
        // $(".link").popConfirm();
        
        // Custom Title, Content and Placement
        $(".link").popConfirm({
          title: "Delete",
          content: "Are You Sure?",
          placement: "bottom"
        });
      });
    </script>
<script type="text/javascript">
  $(document).ready(function(){
    $('#datatables-example').DataTable();
  });
</script>
{% endblock %}
